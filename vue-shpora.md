# Шпора по Vue на примере steps_assistant

## Назначение файлов и директорий относительно resources/assets/js/steps_assistant

- `components` - потенциально реюзабельные компоненты
- `pages` - страницы (страница - не реюзабельный компонент)
  - `settings` - страницы настроек
  - `widget` - страницы виджета
- `router`
  - `index.js` - все маршруты приложения
- `store` - хранилище состояния
  - `index.js` - 
  - `settings` - для настроек
    - `actions.js` - действия (асинхронное изменение состояния)
    - `getters.js` - геттеры (вывод существующего состояния в ином виде)
    - `index.js` - собирает в один модуль все файлы в папке
    - `mutation-types.js` - все типы мутаций
    - `mutations.js` - мутации (синхронное изменение состояния)
    - `plugins.js` - плагины (примерно = middleware в моем понимании)
    - `state.js` - само состояние
  - `widget` - для виджета
    - то же самое 
  - `index.js` - собирает модули settings и widget воедино
- `app.js` - точка входа (инициализация vue)
- `App.vue` - корневой элемент, рендерит внутри себя всё из `/pages` с учетом маршрутов из `/router/index.js`
- `bootstrap.js` - внедрение глобальных внешних зависимостей

## Сборка проекта
Для сборки и для всего остального (добавление пакетов, удаление, етц.) используем предпочтительно `yarn` на cl.drevlanka.ru (`/opt/node/bin/yarn`).

Параметры для сборки задаются в `/webpack.min.js` це есть файл конфигурации для [Laravel Mix](https://laravel.com/docs/5.4/mix).

Для самой сборки используется команда `yarn run [script]`
Где `[script]` там:

-  `development` - сборка по условиям `/webpack.min.js` без минификации
-  `dev` - алиас для `development`
-  `production` - сборка по условиям `/webpack.min.js` и последующая минификации
-  `prod` - алиас для `production`
-  `watch` - сборка по условиям `/webpack.min.js` без минификации с перекомпиляцией при любом изменении в зависимом файле
-  `watch-poll` то же что и `watch`, только на случай если тот не вывозит смотреть за изменениями
-  `hot` - то же что и `watch` только с горячей перезагрузкой зависимых страниц с сохранением данных

Можно использовать сокращенную нотацию без `run`, например `yarn watch`.

Лично я использую `yarn watch` для разработки и просмотра изменений на горячую, так как `yarn hot` завести не удалось, а в `yarn watch-poll` нужды нет.
